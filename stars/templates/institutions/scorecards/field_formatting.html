<span style='font-size: 1.4em;font-family: Garamond;'>
    {{ field.documentation_field.title }}:
</span>

{% load humanize %}

{% if not field.is_empty %}
    <div class='greyBox'
        {% ifequal field.documentation_field.type 'long_text' %}
        style='padding: 10px 20px'>
            {{ field.value|urlizetrunc:85|linebreaks|fix_ampersands }}
        {% else %}
        >
            {% ifequal field.documentation_field.type 'url' %}
                <a href='{{ field.value }}' target="_blank">{{ field.value|slice:":85" }}</a>
            {% else %}
                {% ifequal field.documentation_field.type 'upload' %}
                    {% if field.value %}
                        <a href='{{ field.value.url }}'>{{ field.get_filename }}</a>
                    {% endif %}
                {% else %}
                    {% ifequal field.documentation_field.type 'numeric' %}
                        {{ field.value|floatformat:"-2" }}
                        {% if field.documentation_field.units %}
                            <i>{{ field.documentation_field.units }}</i>
                        {% endif %}
                    {% else %}
                        {% ifequal field.documentation_field.type 'boolean' %}
                            {{ field }}
                        {% else %}
                            {{ field.value }}
                        {% endifequal %}
                    {% endifequal %}
                {% endifequal %}
            {% endifequal %}
        {% endifequal %}
    </div>
    
    {% if field.corrections.all %}
    	{% for c in field.corrections.all %}
    
		    <div style='background-color: #ffefe0;border: 1px dashed #fa3;margin: 0px 20px; padding: 3px; color: #555;'>
		    	<img src='/media/static/images/expand_big.gif' alt='+' onclick='expandCollapse(this,false);' id='correction_{{ c.id }}' class='collapseExpand' style='vertical-align: text-bottom;'/>
		    	<span style="color: #000">Data Corrected: {{ c.change_date }}</span>
		    	<br/>
		    	<div style='display: none;font-size: .8em;margin: 10px 20px;' id='correction_{{ c.id }}_target'>
		    		<span style='color: #000; font-weight: bold;'>Previous Value:</span>
		    		{{ c.previous_value }}
		    		{% if c.explanation %}
		    			<br/><br/>
		    			<span style='color: #000; font-weight: bold;'>Explanation:</span>
		  				{{ c.explanation }}
		    		{% endif %}
		    	</div>
		    </div>
    	{% endfor %}
    {% endif %}
{% else %}
    <div class='greyBoxSmall'>
        <span class='green'>---</span>
    </div>
{% endif %}
<br/>