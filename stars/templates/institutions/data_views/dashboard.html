{% extends 'institutions/base.html' %}

{% block extra_head %}
	{{ block.super }}
	<script src="http://ajax.googleapis.com/ajax/libs/dojo/1.5/dojo/dojo.xd.js" type="text/javascript"></script>
	<script type='text/javascript'>
		dojo.require('dojox.charting.Chart2D');
		dojo.require('dojox.charting.widget.Chart2D');
		dojo.require("dojox.charting.themes.PlotKit.green");
		
					/* JSON information */
			var json = {
				January: [9420,10126,9803,15965,17290,15667,17762,16149,10666,10989,16707,16195,17553,16421,14801,9304,10775,26586,34718,23904,21974,21547,15406,14313,24324,24176,21947,22661,20846,13165,12390],
				February: [23990,32975,23477,22513,18069,13121,13311,21837,21311,24913,22556,19722,19308,14262,22872,28044,25202,22553,20983,13506,14063,23723,24401,20140,22639,21232,12956,12815],
				March: [22477,24014,21116,20404,19142,12682,11626,20056,21631,22553,23978,21709,13568,12713,20298,23241,23716,22729,20744,12799,13337,20474,20788,22404,20971,18650,11547,12206,21479,22077,20263]
			};
			
			/* build pie chart JSON */
			var pieData = [];
			dojo.forEach(json['January'],function(item,i) {
				if(i <= 7) {
					pieData.push({ x: i, y: json['January'][i] });
				}
			});
			
			dojo.require('dojox.charting.widget.Legend');
			dojo.require('dojox.charting.themes.Tom');
			dojo.require('dojox.charting.themes.Renkoo');
			dojo.require("dojox.charting.Chart3D");
			dojo.require("dojox.charting.plot3d.Bars");
			dojo.require('dojo.data.ItemFileWriteStore');
			dojo.require('dojox.charting.DataChart');
			dojo.require('dojox.charting.DataSeries');
			dojo.require('dojox.charting.plot2d.Markers');
			dojo.require('dojox.charting.themes.ThreeD');
			
			dojo.require('dijit.dijit');
			dojo.require('dojo.data.api.Notification');
			dojo.require('dojox.charting.DataChart');
			dojo.require('dojox.grid.DataGrid');
			dojo.require('dojox.grid.EnhancedGrid');
		
    </script>
{% endblock %}

{% block content %}
	<div class='inner20'>
		<h1>STARS Dashboard</h1>
				<a name="piechart"></a> 
		<h2>Basic Pie Chart</h2> 
		<div id="pieChart" style="width:550px;height:550px;"></div> 
		<script type="text/javascript"> 
			dojo.addOnLoad(function() {
				var pieChart = new dojox.charting.Chart2D('pieChart');
				pieChart.setTheme(dojox.charting.themes.PlotKit.green);
				pieChart.addPlot('default', {
					type: 'Pie',
					radius: 200,
					fontColor: 'black',
					labelOffset: '-20'
				});
				pieChart.addSeries('January',pieData);
				new dojox.charting.action2d.Magnify(pieChart, "default", {scale: 1.2});
				new dojox.charting.action2d.Tooltip(pieChart,'default');
				pieChart.render();
			});
		</script> 
		<p>&nbsp;</p>	
		
		<a name="stackedchart"></a> 
		<h2>Stacked Areas Statistics Chart (Basic)</h2> 
		<div id="chart1" style="width:600px;height:300px;"></div> 
		<div id="legend1"></div> 
		<script type="text/javascript"> 
			/* create first chart */
			dojo.addOnLoad(function() {
				var chart1 = new dojox.charting.Chart2D('chart1');
				chart1.addPlot('default', {
					type: 'StackedAreas',
					markers: true,
					tension: 'S',
					lines: true,
					areas: true,
					labelOffset: -30 /*,
					shadows: { dx:2, dy:2, dw:2 }
					*/
				});
				chart1.addAxis('x');
				chart1.addAxis('y', { vertical:true, max:80000 });
				chart1.addSeries('January Visits',json['January'], { stroke: 'red', fill: 'pink' });
				chart1.addSeries('February Visits',json['February'], { stroke: 'green', fill: 'lightgreen' });
				chart1.addSeries('March Visits',json['March'], { stroke: 'blue', fill: 'lightblue' });
				chart1.render();
				var anim1a = new dojox.charting.action2d.Magnify(chart1, "default");
				var anim1b = new dojox.charting.action2d.Tooltip(chart1, "default");
				var legend1 = new dojox.charting.widget.Legend({
					chart:chart1
				},"legend1");
				chart1.render();
				
			});
		</script> 
		<p>&nbsp;</p> 
{% endblock %}